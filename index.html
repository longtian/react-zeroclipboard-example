<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>React-zeroclipboard-example by wyvernnot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">React-zeroclipboard-example</h1>
      <h2 class="project-tagline">Example for ZeroClipboard usage with React and Webpack</h2>
      <a href="https://github.com/wyvernnot/react-zeroclipboard-example" class="btn">View on GitHub</a>
      <a href="https://github.com/wyvernnot/react-zeroclipboard-example/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/wyvernnot/react-zeroclipboard-example/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="react-zeroclipboard-example" class="anchor" href="#react-zeroclipboard-example" aria-hidden="true"><span class="octicon octicon-link"></span></a>react-zeroclipboard-example</h1>

<blockquote>
<p>An example showing how to use ZeroClipboard in React application.</p>
</blockquote>

<h2>
<a id="preface" class="anchor" href="#preface" aria-hidden="true"><span class="octicon octicon-link"></span></a>Preface</h2>

<p>This example assumes you have working experience with these tools or frameworks</p>

<ul>
<li>React</li>
<li>Babel</li>
<li>Webpack</li>
<li>ZeroClipboard</li>
</ul>

<p>The code base is written in ES6, and we will use Babel to compile it to ES5. Webpack comes in handy to make this workflow automated.</p>

<h3>
<a id="install-zeroclipboard" class="anchor" href="#install-zeroclipboard" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install ZeroClipboard</h3>

<p>ZeroClipboard can be easily installed using NPM.</p>

<div class="highlight highlight-source-shell"><pre>npm install zeroclipboard -D</pre></div>

<h3>
<a id="import-zeroclipboad" class="anchor" href="#import-zeroclipboad" aria-hidden="true"><span class="octicon octicon-link"></span></a>Import ZeroClipboad</h3>

<p>After installing it, it can be imported just like importing other modules.</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> <span class="pl-smi">React</span> <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>react<span class="pl-pds">'</span></span>;
<span class="pl-k">import</span> <span class="pl-smi">ZeroClipboard</span> <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>zeroclipboard<span class="pl-pds">'</span></span>;</pre></div>

<h3>
<a id="create-new-copybutton-component" class="anchor" href="#create-new-copybutton-component" aria-hidden="true"><span class="octicon octicon-link"></span></a>Create new CopyButton component</h3>

<p>We will create a React component using <a href="http://facebook.github.io/react/docs/reusable-components.html#stateless-functions">stateless functions</a>,
the button is intialized in the <a href="http://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute">ref-callback</a></p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">CopyButton</span> <span class="pl-k">=</span> (<span class="pl-smi">props</span>)<span class="pl-k">=&gt;</span> {
  <span class="pl-k">return</span> <span class="pl-k">&lt;</span>button {...<span class="pl-smi">props</span>} ref<span class="pl-k">=</span>{elem<span class="pl-k">=&gt;</span><span class="pl-k">new</span> <span class="pl-en">ZeroClipboard</span>(elem)}<span class="pl-k">&gt;</span>
    {<span class="pl-smi">props</span>.<span class="pl-smi">children</span>}
  <span class="pl-k">&lt;</span><span class="pl-k">/</span>button<span class="pl-k">&gt;</span>
}</pre></div>

<h3>
<a id="use-the-copybutton-component-in-your-app" class="anchor" href="#use-the-copybutton-component-in-your-app" aria-hidden="true"><span class="octicon octicon-link"></span></a>Use the CopyButton component in your app</h3>

<div class="highlight highlight-source-js"><pre><span class="pl-k">&lt;</span>CopyButton data<span class="pl-k">-</span>clipboard<span class="pl-k">-</span>text<span class="pl-k">=</span>{textToBeCopied}<span class="pl-k">&gt;</span>Click to copy<span class="pl-k">&lt;</span><span class="pl-k">/</span>CopyButton<span class="pl-k">&gt;</span></pre></div>

<h3>
<a id="solve-the-swf-dependency" class="anchor" href="#solve-the-swf-dependency" aria-hidden="true"><span class="octicon octicon-link"></span></a>Solve the SWF dependency</h3>

<p>After the package is built and deployed, you will most likely run into this problem.</p>

<p><img src="README/404.png" alt="swf 404 not found"></p>

<p><strong>The SWF file is not found</strong>, you can mannually copy this file into your static server and make sure the path is correct.
But you need to do this everytime after you do a fresh deployment. Let's solve the problem using webpack.</p>

<p>First, we need to config the ZeroClipboard's <code>swfPath</code> option:</p>

<pre><code>ZeroClipboard.config({
  swfPath: require('zeroclipboard/dist/ZeroClipboard.swf')
});
</code></pre>

<p>This piece of code looks very strange because a <code>.swf</code> file is <code>required</code>. Unless, the second step, we tell webpack how to deal with
<code>.swf</code> files. We need a <a href="http://webpack.github.io/docs/using-loaders.html">loader</a> which will simply copy required dependencies which
ends with <code>.swf</code> to the webpack output path. This loader can be installed by typing <code>npm install file-loader -D</code>. Last, we change the
<code>module.loaders</code> part in <code>webpack.config.js</code> to:</p>

<div class="highlight highlight-source-js"><pre>{
  test<span class="pl-k">:</span><span class="pl-sr"> <span class="pl-pds">/</span><span class="pl-cce">\.</span>swf<span class="pl-k">$</span><span class="pl-pds">/</span></span>,
  loader<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>file-loader<span class="pl-pds">'</span></span>
}</pre></div>

<h3>
<a id="close" class="anchor" href="#close" aria-hidden="true"><span class="octicon octicon-link"></span></a>Close</h3>

<p>In this example, we build a React application which integrates ZeroClipboard. The application is written in ES6
and compiled to ES5 using webpack. In order to solve the <code>ZeroClipboard.swf</code> 404 not found problem smartly, we use a
webpack loader called <code>file-loader</code>.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/wyvernnot/react-zeroclipboard-example">React-zeroclipboard-example</a> is maintained by <a href="https://github.com/wyvernnot">wyvernnot</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
